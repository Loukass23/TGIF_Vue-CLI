<!DOCTYPE html>
<html lang="en">

<head>
    <title>TGIF</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="stylesheets/style.css" />
    <link rel="icon" type="image/png" href="ressources/logo.png">
</head>

<body>

    <div class="jumbotron">
        <h1>Transparent Government In Facts</h1>

    </div>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">TGIF</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li class=><a href="home.html">Home</a></li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown">Congress 113 <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="house-data.html">House</a></li>
                            <li><a href="senate-data.html">Senate</a></li>
                        </ul>
                    </li>
                    <li class="dropdown ">
                        <a class="dropdown-toggle" data-toggle="dropdown">Attendance <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="house-attendance.html">House</a></li>
                            <li><a href="senate-attendance.html">Senate</a></li>

                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a class="dropdown-toggle" data-toggle="dropdown">Party Loyalty <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="house-loyalty.html">House</a></li>
                            <li class="active"><a href="senate-loyalty.html">Senate</a></li>

                        </ul>
                    </li>
                </ul>
                <div class="nav navbar-nav navbar-right">
                    <a id="msg-glyph" class="navbar-text" href="#">info@tgif.net <span class="glyphicon glyphicon-envelope "></span></a>
                </div>
            </div>
        </div>
    </nav>

    <div id="app">
        <div class="container-fluid text-center">
                <pulse-loader></pulse-loader>

            <div class="row "></div>
            <div class="row vertical-divider">
                <div class="col-sm-6 ">
                    <h2>Party Loyalty</h2>
                    <p>Those who consider themselves to be strong partisans, strong Democrats and strong Republicans
                        respectively, tend to be the most faithful in voting for their party's nominee for office and
                        legislation that backs their party's agenda. </p>
                </div>

                <div class="col-sm-6 ">
                    <h2>Senate at a glance</h2>
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="bg-primary">
                                <th>Party</th>
                                <th>Number of Reps</th>
                                <th>% Voted with Prty</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Republican</td>
                                <td>{{stats.number[0].republicans}}</td>
                                <td>{{stats.partyForVote[0].republicans}}</td>

                            </tr>
                            <tr id=statD>
                                <td>Democrat</td>
                                <td>{{stats.number[0].democrats}}</td>
                                <td>{{stats.partyForVote[0].democrats}}</td>

                            </tr>
                            <tr id=statI>
                                <td>Independent</td>
                                <td>{{stats.number[0].independants}}</td>
                                <td>{{stats.partyForVote[0].independants}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row ">
                <hr class="col-xs-12">
            </div>

            <div class="row vertical-divider">
                <div class="col-sm-6 ">
                    <h2>Least Loyal (Bottom 10% of Party)</h2>
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="bg-primary">
                                <th>Name</th>
                                <th>Number Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                        <tbody id="leastLoyal">
                            <tr v-for="(item, row) in stats.partyLoyalty[0].leastLoyal">
                                <td v-for="(member, cells) in stats.partyLoyalty[0].leastLoyal[row]" :key="index">
                                    {{stats.partyLoyalty[0].leastLoyal[row][cells]}} </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-sm-6 ">
                    <h2>Most Loyal (Top 10% of Party)</h2>
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="bg-primary">
                                <th>Name</th>
                                <th>Number Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                        <tbody id="mostLoyal">
                            <tr v-for="(item, row) in stats.partyLoyalty[0].mostLoyal">
                                <td v-for="(member, cells) in stats.partyLoyalty[0].mostLoyal[row]" :key="index">
                                    {{stats.partyLoyalty[0].mostLoyal[row][cells]}} </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid text-center">
        <p>@2016 TGIF | All rights reserved</p>
    </footer>

    <script>
        var url = 'https://api.propublica.org/congress/v1/113/senate/members.json'
    </script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="pro-congress-113-senate.js"> </script>
    <script src="statistics.js"> </script>
    <script src="Vue.js"> </script>
    </div>
</body>

</html>